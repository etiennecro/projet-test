<!doctype html>
<html lang="fr">
<head>
Â  <meta charset="utf-8" />
Â  <meta name="viewport" content="width=device-width,initial-scale=1" />
Â  <title>Lexique pharmaceutique - Termes essentiels</title>
Â  <style>
Â  Â  :root{
Â  Â  Â  /* Palette */
Â  Â  Â  --principal:#007A84;
Â  Â  Â  --secondaire:#32A6AC;
Â  Â  Â  --accent:#F8C137;
Â  Â  Â  --dark-text:#1E2A2A;
Â  Â  Â  --light-text:#F6F8F4;
Â  Â  Â  Â  
Â  Â  Â  /* Variables ThÃ¨me (DÃ©faut : Sombre) */
Â  Â  Â  --bg-couleur: var(--dark-text); /* #1E2A2A */
Â  Â  Â  --text-couleur: var(--light-text); /* #F6F8F4 */
Â  Â  Â  --card-gradient: linear-gradient(180deg, rgba(50,166,172,0.15), rgba(50,166,172,0.08));
Â  Â  Â  --card-border-color: rgba(50,166,172,0.25);
Â  Â  Â  --input-bg: rgba(50,166,172,0.15);
Â  Â  Â  --input-border: rgba(50,166,172,0.25);
Â  Â  Â  --header-gradient: linear-gradient(135deg, var(--secondaire), var(--principal));
Â  Â  Â  --shadow-mask: linear-gradient(to bottom, transparent, rgba(30,42,42,0.9));
Â  Â  Â  
Â  Â  Â  font-family: "Segoe UI", Inter, system-ui, sans-serif;
Â  Â  }

Â  Â  /* â€”â€”â€”â€”â€” THÃˆME CLAIR (CORRECTION) â€”â€”â€”â€”â€” */
Â  Â  .light-mode {
Â  Â  Â  /* Inversion fondamentale */
Â  Â  Â  --bg-couleur: var(--light-text); /* #F6F8F4 (Fond Clair) */
Â  Â  Â  --text-couleur: var(--dark-text); /* #1E2A2A (Texte Sombre) */

Â  Â  Â  /* Ajustement de l'accentuation pour lisibilitÃ© */
Â  Â  Â  --principal:#00565F; 
Â  Â  Â  --secondaire:#007A84; /* LÃ©gÃ¨rement plus foncÃ© */
Â  Â  Â  --accent:#D49B00; 

Â  Â  Â  /* Couleurs des Ã©lÃ©ments non-texte */
Â  Â  Â  --card-gradient: linear-gradient(180deg, rgba(50,166,172,0.05), rgba(50,166,172,0.01));
Â  Â  Â  --card-border-color: rgba(0,122,132,0.1);
Â  Â  Â  --input-bg: rgba(0,122,132,0.05);
Â  Â  Â  --input-border: rgba(0,122,132,0.1);
Â  Â  Â  --shadow-mask: linear-gradient(to bottom, transparent, rgba(246,248,244,0.9)); /* Utilise le fond clair */
Â  Â  }
Â  Â  /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */

Â  Â  html,body{height:100%;margin:0;background-color:var(--bg-couleur);color:var(--text-couleur);}
Â  Â  .wrap{max-width:1100px;margin:32px auto;padding:24px;}
Â  Â  header{margin-bottom:32px;}
Â  Â  .badge{background:rgba(50,166,172,0.2);padding:8px 16px;border-radius:999px;color:var(--secondaire);font-weight:600;border:1px solid rgba(50,166,172,0.3);display:inline-block;margin-bottom:16px;}
Â  Â  h1{margin:0;font-size:2rem;background:var(--header-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
Â  Â  p.lead{margin:12px 0 0;color:var(--text-couleur);font-size:1.05rem;line-height:1.6;}
Â  Â  .controls{display:flex;gap:12px;margin:24px 0;flex-wrap:wrap}
Â  Â  input[type="search"], select, button{
Â  Â  Â  padding:12px 16px;border-radius:10px;border:1px solid var(--input-border);
Â  Â  Â  background:var(--input-bg);color:var(--text-couleur);outline:none;font-size:1rem;
Â  Â  }
Â  Â  input[type="search"]{flex:1;min-width:280px;}
Â  Â  input[type="search"]::placeholder{color:rgba(var(--text-couleur),0.5);}
Â  Â  select{cursor:pointer;}
Â  Â  select option{background:var(--bg-couleur);color:var(--text-couleur);}
Â  Â  button{cursor:pointer;background:var(--accent);color:var(--dark-text);font-weight:700;border:none;transition:all 0.3s ease;}
Â  Â  button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(248,193,55,0.35);}
Â  Â  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px}

Â  Â  /* âš ï¸ Ajout demandÃ© : source au bas */
Â  Â  .card{
Â  Â  Â  background:var(--card-gradient);
Â  Â  Â  border-radius:12px;
Â  Â  Â  padding:20px;
Â  Â  Â  border:1px solid var(--card-border-color);
Â  Â  Â  transition:all 0.3s ease;
Â  Â  Â  display:flex;
Â  Â  Â  flex-direction:column;
Â  Â  }
Â  Â  .card:hover{border-color:var(--accent);box-shadow:0 4px 16px rgba(0,122,132,0.2);}

Â  Â  .word{display:flex;align-items:center;gap:12px;font-weight:700;font-size:1.1rem;color:var(--secondaire);margin-bottom:12px;}
Â  Â  .pos{font-size:0.8rem;color:var(--text-couleur);margin-left:auto;background:rgba(248,193,55,0.15);padding:6px 10px;border-radius:6px;border:1px solid rgba(248,193,55,0.3);}
Â  Â  .def{margin:10px 0;color:var(--text-couleur);line-height:1.6;font-size:0.95rem;text-align:justify;}
Â  Â  .def.truncated{max-height:4.8em;overflow:hidden;position:relative;}
Â  Â  .def.truncated::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1.5em;background:var(--shadow-mask);} /* Utilise la variable pour le masque */
Â  Â  .def-toggle{margin-top:8px;color:var(--accent);cursor:pointer;font-size:0.85rem;transition:all 0.2s ease;display:inline-block;}
Â  Â  .def-toggle:hover{color:var(--secondaire);}
Â  Â  .ex{margin:10px 0;color:var(--text-couleur);opacity: 0.85;font-size:0.95rem;padding-left:12px;border-left:3px solid var(--accent);}

Â  Â  /* â€”â€”â€”â€”â€” MODIFICATIONS DEMANDÃ‰ES â€”â€”â€”â€”â€” */
Â  Â  .note strong { font-style: italic; font-weight: 700; }
Â  Â  .note em { font-style: italic; }
Â  Â  .autres-termes { font-size: 0.85rem; font-style: italic; }
Â  Â  .source-box { font-size: 0.85rem; color: var(--text-couleur); opacity: 0.75; background: rgba(50,166,172,0.1); padding: 10px; border-radius: 6px; margin-top: auto; line-height: 1.5; }
Â  Â  .light-mode .source-box { background: rgba(0,122,132,0.05); }
Â  Â  .source-text { display: inline; }
Â  Â  .source-text.truncated { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
Â  Â  .source-toggle { margin-top: 8px; color: var(--accent); cursor: pointer; font-size: 0.85rem; transition: all 0.2s ease; display: inline-block; }
Â  Â  .source-toggle:hover { color: var(--secondaire); }
Â  Â  .note-icon { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; background: rgba(248,193,55,0.2); border: 1px solid rgba(248,193,55,0.4); border-radius: 50%; cursor: pointer; margin-top: 8px; font-size: 1rem; transition: all 0.3s ease; }
Â  Â  .note-icon:hover { background: rgba(248,193,55,0.3); transform: scale(1.1); }
Â  Â  .note-content { display: none; margin-top: 8px; padding: 10px; background: rgba(50,166,172,0.08); border-radius: 6px; border-left: 3px solid var(--accent); color: var(--text-couleur); opacity: 0.85; font-size: 0.9rem; line-height: 1.6; }
Â  Â  .light-mode .note-content { background: rgba(0,122,132,0.05); }
Â  Â  .note-content.visible { display: block; }
Â  Â  
Â  Â  /* Style pour le nouveau bouton de thÃ¨me */
Â  Â  #theme-toggle {
Â  Â  Â  background: var(--secondaire);
Â  Â  Â  color: var(--dark-text); /* Assure le noir pour le texte du bouton */
Â  Â  Â  font-weight: 700;
Â  Â  Â  border: none;
Â  Â  Â  padding: 12px;
Â  Â  Â  width: 50px; 
Â  Â  Â  height: 50px;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  margin-left: auto; 
Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  box-shadow: 0 2px 8px rgba(0,122,132,0.3);
Â  Â  }
Â  Â  #theme-toggle:hover {
Â  Â  Â  transform: scale(1.05);
Â  Â  Â  box-shadow: 0 4px 12px rgba(0,122,132,0.4);
Â  Â  }
Â  Â  @media (max-width:768px){
Â  Â  Â  .controls { flex-direction: row; justify-content: space-between; align-items: center; }
Â  Â  Â  input[type="search"] { min-width: calc(100% - 130px); order: 1; }
Â  Â  Â  #reset { order: 2; }
Â  Â  Â  #theme-toggle { margin-left: 0; order: 3; }
Â  Â  }

Â  Â  /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */

Â  Â  .emoji{font-size:1.4rem;}
Â  Â  footer{margin-top:40px;padding-top:24px;border-top:1px solid rgba(50,166,172,0.15);color:var(--text-couleur);opacity: 0.9;font-size:0.95rem;line-height:1.6;}
Â  Â  footer p{margin:8px 0;}
Â  </style>
</head>
<body id="body-root">
Â  <div class="wrap">
Â  Â  <header>
Â  Â  Â  <div class="badge">âš•ï¸ Lexique pharmaceutique</div>
Â  Â  Â  <h1>ğŸ’Š Termes essentiels du domaine pharmaceutique</h1>
Â  Â  Â  <p class="lead">DÃ©finitions et contextes d'usage destinÃ©s aux professionnels de la santÃ© ğŸ§ªğŸ©º</p>
Â  Â  </header>

Â  Â  <div class="controls">
Â  Â  Â  <input id="search" type="search" placeholder="ğŸ” Rechercher un terme, une dÃ©finition ou un usage..." />
Â  Â  Â  <button id="reset">ğŸ”„ RÃ©initialiser</button>
Â  Â  Â  <button id="theme-toggle" aria-label="Changer le thÃ¨me (Sombre/Clair)">ğŸ’¡</button>
Â  Â  </div>

Â  Â  <main>
Â  Â  Â  <section id="lexicon" class="grid"></section>
Â  Â  </main>

Â  Â  <footer>
Â  Â  Â  <p>ğŸ’¡ Ce lexique a Ã©tÃ© conÃ§u pour illustrer les termes techniques et conceptuels utilisÃ©s dans le champ pharmaceutique et biomÃ©dical.</p>
Â  Â  Â  <p>ğŸ“˜ Auteur : Ã‰quipe pÃ©dagogique pharmaceutique â€” Â© 2025</p>
Â  Â  </footer>
Â  </div>

Â  <script src="termes.js"></script>
Â  <script>
Â  Â  const body = document.getElementById('body-root');
Â  Â  const container = document.getElementById('lexicon');
Â  Â  const themeToggle = document.getElementById('theme-toggle');
Â  Â  const emojis = ['ğŸ’Š','ğŸ§ª','ğŸ§¬','ğŸ©¸','ğŸ”¬','âš—ï¸','ğŸ¥','ğŸ©º','ğŸ’‰','ğŸ§«','ğŸ§´','ğŸ©»','ğŸ«€','ğŸ«','ğŸ©¹','ğŸš‘','ğŸ‘©â€âš•ï¸','ğŸ‘¨â€âš•ï¸','ğŸ§ ','âœï¸','ğŸ…°ï¸','ğŸ“'];

Â  Â  /* â€”â€”â€”â€”â€” GESTION DU THÃˆME (Maintenu et Fonctionnel) â€”â€”â€”â€”â€” */
Â  Â  function applyTheme(isLight) {
Â  Â  Â  if (isLight) {
Â  Â  Â  Â  body.classList.add('light-mode');
Â  Â  Â  Â  themeToggle.textContent = 'ğŸŒ™';
Â  Â  Â  Â  localStorage.setItem('theme', 'light');
Â  Â  Â  } else {
Â  Â  Â  Â  body.classList.remove('light-mode');
Â  Â  Â  Â  themeToggle.textContent = 'ğŸ’¡';
Â  Â  Â  Â  localStorage.setItem('theme', 'dark');
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  // Re-rendre pour s'assurer que les couleurs injectÃ©es dans le innerHTML sont mises Ã  jour (si nÃ©cessaire)
Â  Â  Â  // Bien que la majeure partie utilise les variables CSS, ceci peut aider pour les styles inline
Â  Â  Â  render(LEX.filter(filterByCurrentSearch)); 
Â  Â  }

Â  Â  // Fonction pour filtrer, utilisÃ©e par applyTheme et les Ã©couteurs d'Ã©vÃ©nements
Â  Â  function filterByCurrentSearch([mot,def,source,autres,notes]){
Â  Â  Â  const q=search.value.toLowerCase();
Â  Â  Â  return (mot+def+source+autres+notes).toLowerCase().includes(q);
Â  Â  }

Â  Â  // Initialiser le thÃ¨me au chargement
Â  Â  const savedTheme = localStorage.getItem('theme');
Â  Â  const isLightMode = savedTheme === 'light';
Â  Â  applyTheme(isLightMode); 

Â  Â  // GÃ©rer le clic sur le bouton
Â  Â  themeToggle.addEventListener('click', () => {
Â  Â  Â  const isCurrentlyLight = body.classList.contains('light-mode');
Â  Â  Â  applyTheme(!isCurrentlyLight);
Â  Â  });
Â  Â  /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */

Â  Â  function render(list){
Â  Â  Â  container.innerHTML = '';
Â  Â  Â  if(list.length === 0){
Â  Â  Â  Â  // La couleur du texte est dÃ©sormais gÃ©rÃ©e par la variable CSS --text-couleur
Â  Â  Â  Â  container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: var(--text-couleur); opacity: 0.6; padding: 40px;">Aucun rÃ©sultat trouvÃ©</p>';
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  list.forEach(([mot,def,source,autres,notes], index)=>{
Â  Â  Â  Â  const card = document.createElement('article');
Â  Â  Â  Â  card.className = 'card';
Â  Â  Â  Â  const hasNotes = notes && notes.trim().length > 0;
Â  Â  Â  Â  const hasSource = source && source.trim().length > 0;
Â  Â  Â  Â  const isLongDef = def.length > 215;
Â  Â  Â  Â  const defId = 'def-' + Math.random().toString(36).substr(2, 9);
Â  Â  Â  Â  const sourceId = 'source-' + Math.random().toString(36).substr(2, 9);
Â  Â  Â  Â  const isLongSource = source && source.length > 100;
Â  Â  Â  Â  const emoji = emojis[index % emojis.length];

Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  <div class="word"><span class="emoji">${emoji}</span><span>${mot}</span></div>
Â  Â  Â  Â  Â  <div class="def ${isLongDef ? 'truncated' : ''}" id="${defId}">${def}</div>
Â  Â  Â  Â  Â  ${isLongDef ? `<div class="def-toggle" onclick="
Â  Â  Â  Â  Â  Â  const el = document.getElementById('${defId}');
Â  Â  Â  Â  Â  Â  const btn = this;
Â  Â  Â  Â  Â  Â  if(el.classList.contains('truncated')) {
Â  Â  Â  Â  Â  Â  Â  el.classList.remove('truncated');
Â  Â  Â  Â  Â  Â  Â  btn.textContent = 'â–² RÃ©duire';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  el.classList.add('truncated');
Â  Â  Â  Â  Â  Â  Â  btn.textContent = 'â–¼ Lire la suite';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  ">â–¼ Lire la suite</div>` : ''}

Â  Â  Â  Â  Â  ${autres ? `<div class="ex autres-termes">Autres termes : ${autres}</div>` : ''}

Â  Â  Â  Â  Â  ${hasNotes ? `
Â  Â  Â  Â  Â  Â  <div class="note-icon" onclick="this.nextElementSibling.classList.toggle('visible')" title="Note supplÃ©mentaire">
Â  Â  Â  Â  Â  Â  Â  ğŸ’¡
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="note-content">${notes}</div>
Â  Â  Â  Â  Â  ` : ''}

Â  Â  Â  Â  Â  ${hasSource ? `
Â  Â  Â  Â  Â  <div class="source-box">
Â  Â  Â  Â  Â  Â  ğŸ“š <strong>Source:</strong> <em><span class="source-text ${isLongSource ? 'truncated' : ''}" id="${sourceId}">${source}</span></em>
Â  Â  Â  Â  Â  Â  ${isLongSource ? `<div class="source-toggle" onclick="
Â  Â  Â  Â  Â  Â  Â  const el = document.getElementById('${sourceId}');
Â  Â  Â  Â  Â  Â  Â  const btn = this;
Â  Â  Â  Â  Â  Â  Â  if(el.classList.contains('truncated')) {
Â  Â  Â  Â  Â  Â  Â  Â  el.classList.remove('truncated');
Â  Â  Â  Â  Â  Â  Â  Â  btn.textContent = 'â–² RÃ©duire';
Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  el.classList.add('truncated');
Â  Â  Â  Â  Â  Â  Â  Â  btn.textContent = 'â–¼ Lire la suite';
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  ">â–¼ Lire la suite</div>` : ''}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  ` : ''}
Â  Â  Â  Â  `;
Â  Â  Â  Â  container.appendChild(card);
Â  Â  Â  });
Â  Â  }
Â  Â  render(LEX);

Â  Â  const search=document.getElementById('search');
Â  Â  const reset=document.getElementById('reset');
Â  Â  function applyFilters(){
Â  Â  Â  render(LEX.filter(filterByCurrentSearch));
Â  Â  }
Â  Â  search.addEventListener('input',applyFilters);
Â  Â  reset.addEventListener('click',()=>{search.value='';applyFilters();});
Â  </script>
</body>
</html>
